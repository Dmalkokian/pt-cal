<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HVAC Calculator Pro</title>
    <style>
        /* Your existing styles remain unchanged */
    </style>
</head>
<body>
    <!-- Your existing HTML structure remains unchanged -->

    <script>
        console.log('HVAC Calculator V7 loading...');

        // Updated copyResultsToClipboard function
        function copyResultsToClipboard() {
            console.log('Results copy button clicked');
            
            if (!lastResults) {
                alert('No results to copy. Please calculate first.');
                return;
            }

            // Get current form values
            const refrigerant = document.getElementById('refrigerant').value;
            const suctionPressure = lastResults.pressure; // Using gauge pressure as suction pressure
            const liquidPressure = 'N/A'; // We don't have liquid pressure in current setup
            const superheat = Math.abs(lastResults.superheat).toFixed(1);
            const subcooling = Math.abs(lastResults.subcooling).toFixed(1);

            // Format as mini report
            const copyText = `=== HVAC READING REPORT ===
Date: ${new Date().toLocaleDateString()}
Time: ${new Date().toLocaleTimeString()}

SYSTEM INFORMATION:
Refrigerant Type: ${refrigerant}

PRESSURE READINGS:
Suction Pressure: ${suctionPressure} psig
Liquid Pressure: ${liquidPressure}

TEMPERATURE ANALYSIS:
Superheat: ${superheat}°${currentUnit}
Subcooling: ${subcooling}°${currentUnit}

=== END REPORT ===`;

            console.log('Text to copy:', copyText);

            // Using Clipboard API to copy text
            navigator.clipboard.writeText(copyText)
                .then(() => {
                    console.log('Text copied to clipboard successfully!');
                    showResultsCopySuccess();
                })
                .catch(err => {
                    console.error('Failed to copy text:', err);
                    alert('Failed to copy text to clipboard. Please try again.');
                });
        }

        function showResultsCopySuccess() {
            const copyBtn = document.getElementById('results-copy-btn');
            const originalText = copyBtn.textContent;
            
            copyBtn.textContent = '✅ Copied to Clipboard';
            copyBtn.classList.add('copied');
            
            setTimeout(() => {
                copyBtn.textContent = originalText;
                copyBtn.classList.remove('copied');
            }, 2000);
        }

        // Remaining JavaScript remains unchanged
    </script>
</body>
</html>